# OOP - Object Oriented Programming(객체지향 프로그래밍)

> 인스턴스 - 클래스로부터 생성된 객체, 힙 메모리에 멤버 변수의 크기에 따라 메모리가 생성

클래스를 기반으로 new 키워드를 이용하여 여러개의 인스턴스 생성


## 참조 자료형

자료형 
1. 기본 자료형(Primitive type)
    - int, long, boolean, char 등
2. 참조 자료형(Reference type)
    - 클래스를 기반으로 사용


## This

자기 자신의 메모리를 가리키는 this

생성자에서 다른 생성자를 호출

```java
public Person(){
    this("이름없음", 1);
}

public Person(String name, int num){
    this.name = name;
    this.num = num;
}
```
다음과 같은 식으로 자신의 다른 생성자를 호출해서 사용하기도 한다. 

## static 변수

여러 인스턴스가 하나의 값을 공유할 필요가 있음

static 변수는 처음 프로그램이 로드 될 때 데이터 영역에 생성 됨

인스턴스의 생성과 상관 없이 사용할 수 있으므로 클래스 이름으로 참조

```java
public class Student{

    public static int serialNum = 1000;

    public Student(){
        serialNum++;
    }

}
```

위와 같이 Student 클래스의 static 변수 serialNum은 다른 클래스에서 여러 Student 인스턴스를 생성하더라도 동일한 값을 같도록 되어있다. 

> 데이터 영역에 위치한 동일한 메모리를 참조하기 때문 (스택이나 힙이 아님)

**변수 유형**

지역 변수(로컬 변수)
- 선언 위치 : 함수 내부에 선언
- 사용 범위 : 함수 내부에서만 사용
- 메모리 : 스택
- 생성과 소멸 : 함수가 호출될 때 생성되고 함수가 끝나면 소멸함


멤버 변수(인스턴스 변수)
- 선언 위치 : 클래스 멤버 변수로 선언
- 사용 범위 : 클래스 내부에서 사용하고 private가 아니면 참조 변수로 다른 클래스에서 사용 가능
- 메모리 : 힙
- 생성과 소멸 : 인스턴스가 생성될 때 힙에 생성되고, 가비지 컬렉터가 메모리를 수거할 때 소멸됨

static 변수(클래스 변수)
- 선언 위치 : static 예약어를 사용하여 클래스 내부에 선언
- 사용 범위 : 클래스 내부에서 사용하고 private이 아니면 클래스 이름으로 다른 클래스에서 사용 가능
- 메모리 : 데이터 영역
- 생성과 소멸 : 프로그램이 처음 시작할 떄 상수와 함께 데이터 영역에 생성되고 프로그램이 끝나고 메모리를 해제할 때 소멸됨



## 상속과 다항성

### 상위 클래스로의 묵시적 형 변환(업 캐스팅)

상위 클래스 형으로 변수를 선언하고 하위 클래스 인스턴스를 생성할 수 있음

하위 클래스는 상위 클래스의 타입을 내포하고 있으므로, 상위 클래스로 묵시적 형변환이 가능함

> 상속관계에서 모든 하위 클래스는 상위클래스로 묵시적 형 변환이 됨. 하지만, 그 역은 성립하지 않는다.

- `Customer vc = new VIPCustomer()`
- 선언된 클래스형(상위 클래스형) - 생성된 인스턴스의 클래스형(하위 클래스형)

> 위의 Customer vc에서 vc가 가리키는 것은?

힙 메모리에는 VIPCustomer() 생성자의 호출로 인스턴스들은 모두 생성되었지만, 타입이 Customer이므로 접근할 수 있는 변수는 Customer의 변수와 메서드만 가능하다.
